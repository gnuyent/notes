# CS 320 - Programming Languages

Taught by Professor Patty Kraft, virtually, during Fall 2020 at San Diego State University

# 26 August

## Preliminary Material

An **address** refers to a memory location.

A **memory location** is a byte-addressable unit of memory.

A **64-bit**

 address bus has $2^{64}$ different **logical (virtual)** locations.

**Physical** memory size is much smaller.

The compiler will produce addresses for virtual memory though typical programs will only use a very small fraction of the available memory space.

### Mapping

Blocks (pages) of fake (virtual) address map to blocks of real (physical) addresses (page frames). This is what the operating system does (simplified).

### Protecting processes from one another

Simple systems: no worries, only 1 process at a time.

Larger systems: a single user may be running multiple processes

### Modern Systems

HW Enhancements distinguish between

* user mode
* kernel mode

### Compiling a process

After calling `gcc`,

cpp - C PreProcessor

- Strips out comments and takes statements (`#include`, `#define`) and creates a 'pure' `.c` file.

cc - C Compiler

* Produces `.o` files
  * Not runnable
  * Unresolved references for declared functions
  * First produces assembly code (`.s`) then calls assembler to turn them into proper `.o` files.
* Declared vs Defined functions
  * Declaration tells compiler about a function's name, parameters, and return type
    * Prototypes enable the compiler to check proper usage of the function. Function signature with no body.
  * Definition is the actual code, often residing in another file

as - ASsembler

ld - linker/Loader

* Locates the needed libraries and `.o` files. Typically used with a Makefile.
* Linking may be:
  * Statically linked (often not allowed)
  * Dynamically linked (default)

### Segments in memory

Stack: writable, not executable

Text: executable, not writable